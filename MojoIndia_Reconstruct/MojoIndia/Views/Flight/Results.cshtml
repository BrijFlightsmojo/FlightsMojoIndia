@model Core.Flight.FlightSearchRequest
@using Core;

@{
    ViewBag.Title = "Result";
    Layout = "~/Views/Shared/_LayoutFlight.cshtml";
}
@section AdditionalMeta
{
    <title>Flights Searching: Flightsmojo in Travel Deals, Cheap Flight Deals, Airline Deals</title>

}
<style>
.logo a img{ width: 60%;padding-left: 20px;}
    @@media screen and ( max-width:767px) {
.rrresult_con {display: none !important;}

.footer_result {display: none;}
#slider-range {border-bottom: 1px solid #ff565c;width: 100%!important;height: 2px!important;position: relative;
margin-top: 10px!important;padding: 0 6px;left: 0!important;}        
.desktop {display:none;}
}
   
</style>
<div ng-app="myApp" ng-controller="myCtrl">

    <main>
        <div class="modify_con">
            <div class="container no_padding">
                <div class="destinatin_div">
                    <div class="modify_left">
                        <div class="from_to"><a href="/" class="back_icon"><i class="fa fa-arrow-left"></i></a><span>@(Model.segment[0].orgArp != null ? Model.segment[0].orgArp.cityName : Model.segment[0].originAirport)</span><span><i class="fa fa-exchange"></i><font>to</font></span><span>@(Model.segment[0].destArp != null ? Model.segment[0].destArp.cityName : Model.segment[0].destinationAirport)</span></div>
                        <div class="modi_date">
                            <span>@Model.segment[0].travelDate.ToString("dd MMM")</span>
                            @if (Model.tripType == TripType.RoundTrip)
                            {
                                <span><i class="fa fa-minus mobileF"></i></span><span>@Model.segment[1].travelDate.ToString("dd MMM")</span>
                            }
                            <span class="mobile_pas">
                                <font>|</font> @(Model.adults + " Adult" + (Model.child > 0 ? (" " + Model.child + " Child") : "") + (Model.infants > 0 ? (" " + Model.infants + " Infant") : ""))
                            </span>
                        </div>
                        <div class="modi_pase">
                            <span>@Model.cabinType.ToString()</span> | <span>@(Model.adults + Model.child + Model.infants) Passenger(s)</span> |
                            <span>@Model.tripType | <font class="Result-show" style="display:none;">{{(result | filter:filterByStop | filter:filterByAirline | filter:filterDepTimeDur | filter:filterArrTimeDur | filter:priceRange ).length}}Results Found</font></span>
                        </div>
                    </div>
                    <div class="modify_right">
                        <button class="button" onclick="Modify()">MODIFY SEARCH</button>
                    </div>
                    @{ Html.RenderPartial("/Views/Shared/SearchEngineModify.cshtml");}
                </div>
                <div class="repon_filter">
                    <a class="filter_click" href="#"><i class="fa fa-filter"></i></a>
                    <a class="modify_click" href="#"><i class="fa fa-search"></i></a>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row" id="flightmozoData">
                <div class="result_main">
                    <div class="result_left">
                        <div class="filtor_top">
                            <div class="fliter_con">
                                <h4 class="filter_header">Refine your search</h4>
                                <div class="box-section Result-Progress">
                                    <a href="#" class="show_data">Stops  <i class="fa fa-caret-down"></i></a>
                                    <label class="filter_container">NonStop <input type="checkbox">  <span class="checkmark"></span></label>
                                    <label class="filter_container">1 Stop<input type="checkbox"><span class="checkmark"></span></label>
                                    <label class="filter_container">2 Stop<input type="checkbox"><span class="checkmark"></span></label>
                                </div>
                                <div class="box-section Result-show" style="display:none;">
                                    <a href="#" class="show_data">Stops  <i class="fa fa-caret-down"></i></a>
                                    <div data-ng-repeat="stops in flight.stop">
                                        <label ng-if="stops.stop==1" class="filter_container">NonStop <input type="checkbox" ng-model="selectedStop[stops.stop]" /><span class="checkmark"></span></label>
                                        <label ng-if="stops.stop==2" class="filter_container">1 Stop<input type="checkbox" ng-model="selectedStop[stops.stop]" /><span class="checkmark"></span></label>
                                        <label ng-if="stops.stop==3" class="filter_container">2+ Stop<input type="checkbox" ng-model="selectedStop[stops.stop]" /><span class="checkmark"></span></label>
                                    </div>
                                </div>
                                <div class="box-section">
                                    <a href="#" class="show_data">Price Range  <i class="fa fa-caret-down"></i></a>
                                    <div class="show-block">
                                        <div class="pric-range">
                                            <p>
                                                <input type="text" id="amount" readonly>
                                            </p>
                                            <div id="slider-range"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="box-section">
                                    <a class="show_data">Departure Time  <i class="fa fa-caret-down"></i></a>
                                    <ul class="filter_flight_time">
                                        <li class="active" data-ng-repeat="depD in flight.depTimeDur">
                                            <div class="filter_timeN" ng-if="depD==1" ng-click="filterDepTimeT(depD)">
                                                <div class="result_depart_time"><div id="dep1Logo" class="res_dep_img res_dep_morn"></div></div>
                                                <span>Early Morning</span>
                                                <p>(12:00am - 4:59am)</p>
                                            </div>
                                            <div class="filter_timeN" ng-if="depD==2" ng-click="filterDepTimeT(depD)">
                                                <div class="result_depart_time"><div id="dep2Logo" class="res_dep_img res_dep_aftern"></div></div>
                                                <span>Morning</span>
                                                <p>(5:00am - 11:59am)</p>
                                            </div>
                                            <div class="filter_timeN" ng-if="depD==3" ng-click="filterDepTimeT(depD)">
                                                <div class="result_depart_time"><div id="dep3Logo" class="res_dep_img res_dep_evening"></div></div>
                                                <span>Afternoon</span>
                                                <p>(12:00pm - 5:59pm)</p>
                                            </div>
                                            <div class="filter_timeN" ng-if="depD==4" ng-click="filterDepTimeT(depD)">
                                                <div class="result_depart_time"><div id="dep4Logo" class="res_dep_img res_dep_night"></div></div>
                                                <span>Evening</span>
                                                <p>(6:00pm - 11:59pm)</p>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                @if (Model.tripType == TripType.RoundTrip)
                                {
                                    <div class="box-section">
                                        <a href="#" class="show_data">Return Time  <i class="fa fa-caret-down"></i></a>
                                        <ul class="filter_flight_time">
                                            <li data-ng-repeat="arrD in flight.arrTimeDur">
                                                <div class="filter_timeN" ng-if="arrD==1" ng-click="filterArrTimeT(arrD)">
                                                    <div class="result_depart_time"><div id="arr1Logo" class="res_dep_img res_dep_morn"></div></div>
                                                    <span>Early Morning</span>
                                                    <p>(12:00am - 4:59am)</p>
                                                </div>
                                                <div class="filter_timeN" ng-if="arrD==2" ng-click="filterArrTimeT(arrD)">
                                                    <div class="result_depart_time"><div id="arr2Logo" class="res_dep_img res_dep_aftern"></div></div>
                                                    <span>Morning</span>
                                                    <p>(5:00am - 11:59am)</p>
                                                </div>
                                                <div class="filter_timeN" ng-if="arrD==3" ng-click="filterArrTimeT(arrD)">
                                                    <div class="result_depart_time"><div id="arr3Logo" class="res_dep_img res_dep_evening"></div></div>
                                                    <span>Afternoon</span>
                                                    <p>(12:00pm - 5:59pm)</p>
                                                </div>
                                                <div class="filter_timeN" ng-if="arrD==4" ng-click="filterArrTimeT(arrD)">
                                                    <div class="result_depart_time"><div id="arr4Logo" class="res_dep_img res_dep_night"></div></div>
                                                    <span>Evening</span>
                                                    <p>(6:00pm - 11:59pm)</p>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                }
                                <div class="box-section Result-show" style="display:none;">
                                    <a href="#" class="show_data">Airlines <i class="fa fa-caret-down"></i></a>
                                    <div class="listing checkbox" data-ng-repeat="air in flight.airlineList">
                                        <label class="filter_container">
                                            {{air.name}}
                                            <input type="checkbox" checked="checked" id="{{air.code}}" ng-model="selectedAirline[air.code]" ng-click="clearMatrixFilter()" />
                                            <span class="checkmark"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="rustfactor_fil">
                            <h4 class="filter_header">Why Choose Us</h4>
                            <div>
                                <div class="promise_div">
                                    <h5>OUR PROMISE</h5>
                                    <div class="best_promise">
                                        <h6><i class="fa fa-chevron-right"></i>Deliver the best</h6>
                                        <p>Curate perfect itinerary for your needs.</p>
                                    </div>
                                    <div class="best_promise">
                                        <h6><i class="fa fa-chevron-right"></i>Ensuring 100% Satisfaction</h6>
                                        <p>We make sure you book with complete peace of mind.</p>
                                    </div>
                                    <div class="best_promise">
                                        <h6><i class="fa fa-chevron-right"></i>Preserving your Privacy</h6>
                                        <p>We make sure that your information is safe with us.</p>
                                    </div>
                                    <div class="best_promise">
                                        <h6><i class="fa fa-chevron-right"></i>No Sneaking & Peaking</h6>
                                        <p>All our airfares are all-inclusive of taxes & fees.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="reslt_right">
                        <div class="logoanimation Result-Progress" style="">
                            <img src="" id="mlogoA1" alt="icon" />
                            <img src="" id="mlogoB1" alt="icon" />
                            <img src="" id="mlogoC1" alt="icon" />
                        </div>

                        <div class="seclect_airline Result-show" style="display:none;">

                            <a class="deal_sectionL">
                                <div class="scrool_top">
                                    <span style="cursor:pointer;" ng-click="clearFilter()">All Fares </span>
                                </div>

                            </a>
                            <div class="deal_sectionR">
                                <div class="scrollmenu">
                                    <a class="deal_section" ng-repeat="airM in flight.airlineList" ng-class="{MatrixActive : (matrixActive===airM.code)}">
                                        <div class="scrool_LOGO" ng-click="MAirline(airM.code);">
                                            <div class="slide_left"><img src="{{airM.url}}" alt="logo"></div>
                                            <div class="slide_right">
                                                <p>{{airM.name}}</p>
                                                <span><i class="fa fa-rupee"></i> {{airM.fare}}</span>
                                            </div>
                                        </div>

                                    </a>
                                </div>
                            </div>
                        </div>

                        @if (Model.tripType == TripType.RoundTrip)
                        {
                            if (Model.travelType == TravelType.Domestic)
                            {
                                <div class="col-md-6 col-sm-6 col-xs-6 no-padding">
                                    <div class="destination_coninbound">
                                        <div class="city_con">
                                            <p class="city_p"><span>@Model.segment[0].orgArp.cityCode</span><i class="fa fa-arrow-right"></i><span>@Model.segment[0].destArp.cityCode</span></p>
                                            <p class="date_p">@Model.segment[0].travelDate.ToString("dd MMM yyyy")</p>
                                        </div>
                                        <div class="nextday_con">
                                            <a class="prev_day" href=""><i class="fa fa-arrow-circle-left"></i>Prev day</a><a class="next_day" href="#">Next day<i class="fa fa-arrow-circle-right"></i></a>
                                        </div>
                                    </div>
                                    <div class="result_headinbound">
                                        <ul>
                                            <li><a>DEPART</a></li>
                                            <li><a>ARRIVE</a></li>
                                            <li><a>DURATION</a></li>
                                            <li><a>PRICE PER ADULT</a></li>
                                        </ul>
                                    </div>

                                    <div class="gradient_slider Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="gradient_slider Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="gradient_slider Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="gradient_slider Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="gradient_slider Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="gradient_slider Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="Result-show" style="display:none;">
                                        <div class="scrollMob ">
                                            <div infinite-scroll="loadMore()" infinite-scroll-distance='1'>
                                                <div class="flight_item_inbound borderRight" id="div{{dep.resultID}}" ng-class="$index == 0?'flight_item  allDepColor flight_itemDepColor':'flight_item allDepColor'" ng-repeat="dep in result | filter:filterByStop | filter:filterByAirline | filter:filterDepTimeDur | filter:priceRange | filter:AirlineMatrixFilter | limitTo:numberToDisplay" ng-click="DepChange(dep.resultID)">
                                                    <div class="flight_tulip">
                                                        <div class="flight_itemtop">
                                                            <div class="result_mob">
                                                                <div class="flight_logo_mob">
                                                                    <img src="{{dep.flightSegments[0].segments[0].url}}" alt="logo" />
                                                                    <font>{{dep.flightSegments[0].segments[0].airline.code}}-{{dep.flightSegments[0].segments[0].flightNo}}</font>
                                                                </div>
                                                                <div class="flight_mob_Pr">
                                                                    <div class="flight_fare_mob"><i class="fa fa-rupee"></i>{{dep.dPrice}}</div>
                                                                </div>
                                                            </div>
                                                            <div class="flight_itemleft">
                                                                <div class="flight_logo">
                                                                    <img src="{{dep.flightSegments[0].segments[0].url}}" alt="logo" />
                                                                </div>
                                                                <div class="flight_deprt">
                                                                    <p class="desktop"><b>{{dep.flightSegments[0].segments[0].depTime}}</b></p>
                                                                    <span>{{dep.flightSegments[0].segments[0].airline.name}}</span>
                                                                </div>
                                                                <div class="flight_br"><img src="/images/result_line2.png" alt="icon" /></div>
                                                                <div class="flight_arriv ">
                                                                    <p class="desktop"><b>{{dep.flightSegments[0].segments[dep.flightSegments[0].segments.length-1].arrTime}}</b></p>
                                                                    <p class="mobile"><b>{{dep.flightSegments[0].segments[0].depTime}}</b></p>
                                                                </div>
                                                            </div>
                                                            <div class="flight_itemright">
                                                                <div class="flight_dep1">
                                                                    <p>{{dep.flightSegments[0].TotalTime}}</p>
                                                                    <div class="mobile_br"><span class="dotLeft"></span><span class="dotRight"></span></div>
                                                                    <span ng-if="dep.flightSegments[0].segments.length==1">Non Stop</span>
                                                                    <span ng-if="dep.flightSegments[0].segments.length>1">{{dep.flightSegments[0].segments.length-1}} Stop</span>
                                                                </div>
                                                                <div class="flight_dep3">
                                                                    <div class="flight_fare"><i class="fa fa-rupee"></i>{{dep.dPrice}}</div>
                                                                    <p class="mobile"><b>{{dep.flightSegments[0].segments[dep.flightSegments[0].segments.length-1].arrTime}}</b></p>
                                                                    <div class="radio_div">
                                                                        <label class="trip_label" ng-if="$index == 0">
                                                                            <input type="radio" checked="checked" name="Deprture" id="{{dep.resultID}}" ng-click="DepChange(dep.resultID)">
                                                                            <span class="checkmar"></span>
                                                                        </label>
                                                                        <label class="trip_label" ng-if="$index > 0">
                                                                            <input type="radio" name="Deprture" id="{{dep.resultID}}" ng-click="DepChange(dep.resultID)">
                                                                            <span class="checkmar"></span>
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flight_itembotm">
                                                            <div class="detai_button" onclick="showFlightDetails(this)"><a class="show_head">Flight Details <i class="fa fa-angle-down"></i></a></div>
                                                            <div ng-if="flight.isShowDetails==true" class="row" style="float:left;">
                                                                <div class="col-md-6" style="font-size:11px;">
                                                                    <div class="col-md-12">Markup/Dis : <b>{{dep.markupID[dep.markupID.length-1]}}</b></div>
                                                                    <div class="col-md-12" ng-repeat="k in dep.markupID"><b ng-if="dep.markupID[dep.markupID.length-1]!=k">{{k}}</b></div>
                                                                </div>
                                                                <div class="col-md-2" style="font-size:11px;">Airline Class/Ftype :<b> {{dep.airlineClass}}/{{dep.fareType}}</b></div>
                                                                <div class="col-md-2" style="font-size:11px;">GDS :<b> {{dep.GDS}}</b></div>
                                                                <div class="col-md-2" style="font-size:11px;">Mojo Fare :<b> {{dep.mojofare}}</b></div>
                                                            </div>
                                                        </div>
                                                        <div class="flight_itemdetail" style="display:none;">
                                                            <div class="detail_header"><a>Flights Detail</a><i class="fa fa-times-circle pull-right cross_close" onclick="hideFlightDetails(this)"></i></div>
                                                            <div ng-repeat="seg in dep.flightSegments[0].segments">
                                                                <div class="airlines">
                                                                    <div class="airlines_detail">
                                                                        <div class="flight_logo"><img src="{{seg.url}}" alt="logo" /></div>
                                                                        <div class="air_class">
                                                                            <p><b>{{seg.airline.name}}, {{seg.airline.code}}-{{seg.flightNo}}</b>({{seg.cabinType}})</p>
                                                                            <span>{{seg.equipType}}</span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="airlines_faci "></div>
                                                                </div>
                                                                <div class="airlines_itenery">
                                                                    <div class="airline_iteone">
                                                                        <p>{{seg.org.cityName}} ({{seg.org.airportCode}})</p>
                                                                        <b>{{seg.depTime}}</b>
                                                                        <span>{{seg.depDate}}</span>
                                                                        <dfn>{{seg.fTerminal}}</dfn>
                                                                    </div>
                                                                    <div class="airline_iteone" style="padding-right:15px;">
                                                                        <div class="stop_timer">
                                                                            <p><i class="fa fa-clock-o"></i>{{ReturnInt(seg.eft/60)}}h {{seg.eft%60}}m</p>
                                                                        </div>
                                                                        <div class="border_lin"><span></span><i class="fa fa-plane"></i></div>
                                                                        <div class="non_stop">Non Stop</div>
                                                                    </div>
                                                                    <div class="airline_itround">
                                                                        <p>{{seg.dest.cityName}} ({{seg.dest.airportCode}})</p>
                                                                        <b>{{seg.arrTime}}</b>
                                                                        <span>{{seg.arrDate}}</span>
                                                                        <dfn>{{seg.tTerminal}}</dfn>
                                                                    </div>
                                                                    <div class="layover_div">
                                                                        <span ng-if="seg.layOverTime!=''">Layover Time: {{seg.layOverTime}}</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="check_bag">
                                                                <span class="float-left">Checkin Baggage: <i class="fa fa-suitcase"></i> 15kgs</span>
                                                                <span class="float-right"><i class="fa fa-cutlery"></i>Paid Meal</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 col-sm-6 col-xs-6 no-padding">
                                    <div class="destination_coninbound ">
                                        <div class="city_con">
                                            <p class="city_p"><span>@Model.segment[1].orgArp.cityCode</span><i class="fa fa-arrow-right"></i><span>@Model.segment[1].destArp.cityCode</span></p>
                                            <p class="date_p">@Model.segment[1].travelDate.ToString("dd MMM yyyy")</p>
                                        </div>
                                        <div class="nextday_con">
                                            <a class="prev_day" href=""><i class="fa fa-arrow-circle-left"></i>Prev day</a><a class="next_day" href="#">Next day<i class="fa fa-arrow-circle-right"></i></a>
                                        </div>
                                    </div>
                                    <div class="result_headinbound ">
                                        <ul>
                                            <li><a>DEPART</a></li>
                                            <li><a>ARRIVE</a></li>
                                            <li><a>DURATION</a></li>
                                            <li><a>PRICE PER ADULT</a></li>
                                        </ul>
                                    </div>

                                    <div class="gradient_slider margin_left8 Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="gradient_slider margin_left8 Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="gradient_slider margin_left8 Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="gradient_slider margin_left8 Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="gradient_slider margin_left8 Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="gradient_slider margin_left8 Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="Result-show" style="display:none;">
                                        <div class="scrollMob">
                                            <div infinite-scroll="loadMore()" infinite-scroll-distance='1'>
                                                <div class="flight_item_inbound " id="div{{ret.resultID}}" ng-class="$index == 0?'flight_item allArrColor flight_itemArrColor':'flight_item allArrColor'" ng-repeat="ret in flight.resultReturn | filter:filterByStop | filter:filterByAirline | filter:filterArrTimeDur | filter:priceRange | filter:AirlineMatrixFilter | limitTo:numberToDisplay" ng-click="RetChange(ret.resultID)">
                                                    <div class="flight_tulip">
                                                        <div class="flight_itemtop">
                                                            <div class="result_mob">
                                                                <div class="flight_logo_mob">
                                                                    <img src="{{ret.flightSegments[0].segments[0].url}}" alt="logo" />
                                                                    <font>{{ret.flightSegments[0].segments[0].airline.code}}-{{ret.flightSegments[0].segments[0].flightNo}}</font>
                                                                </div>
                                                                <div class="flight_mob_Pr">
                                                                    <div class="flight_fare_mob"><i class="fa fa-rupee"></i>{{ret.dPrice}}</div>
                                                                </div>
                                                            </div>
                                                            <div class="flight_itemleft">
                                                                <div class="flight_logo">
                                                                    <img src="{{ret.flightSegments[0].segments[0].url}}" alt="logo" />
                                                                </div>
                                                                <div class="flight_deprt">
                                                                    <p class="desktop"><b>{{ret.flightSegments[0].segments[0].depTime}}</b></p>
                                                                    <span>{{ret.flightSegments[0].segments[0].airline.name}}</span>
                                                                </div>
                                                                <div class="flight_br"><img src="/images/result_line2.png" alt="icon" /></div>
                                                                <div class="flight_arriv ">
                                                                    <p class="desktop"><b>{{ret.flightSegments[0].segments[ret.flightSegments[0].segments.length-1].arrTime}}</b></p>
                                                                    <p class="mobile"><b>{{ret.flightSegments[0].segments[0].depTime}}</b></p>
                                                                </div>
                                                            </div>
                                                            <div class="flight_itemright">
                                                                <div class="flight_dep1">
                                                                    <p>{{ret.flightSegments[0].TotalTime}}</p>
                                                                    <div class="mobile_br"><span class="dotLeft"></span><span class="dotRight"></span></div>
                                                                    <span ng-if="ret.flightSegments[0].segments.length==1">Non Stop</span>

                                                                    <span ng-if="ret.flightSegments[0].segments.length>1">{{ret.flightSegments[0].segments.length-1}} Stop</span>

                                                                </div>

                                                                <div class="flight_dep3">
                                                                    <div class="flight_fare"><i class="fa fa-rupee"></i>{{ret.dPrice}}</div>
                                                                    <p class="mobile"><b>{{ret.flightSegments[0].segments[ret.flightSegments[0].segments.length-1].arrTime}}</b></p>
                                                                    <div class="radio_div">
                                                                        <label class="trip_label" ng-if="$index == 0">
                                                                            <input type="radio" checked="checked" name="Retrun" id="{{ret.resultID}}" ng-click="RetChange(ret.resultID)" />
                                                                            <span class="checkmar"></span>
                                                                        </label>
                                                                        <label class="trip_label" ng-if="$index > 0">
                                                                            <input type="radio" name="Retrun" id="{{ret.resultID}}" ng-click="RetChange(ret.resultID)" />
                                                                            <span class="checkmar"></span>
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flight_itembotm">
                                                            <div class="detai_button" onclick="showFlightDetails(this)"><a class="show_head">Flight Details <i class="fa fa-angle-down"></i></a></div>
                                                            <div ng-if="flight.isShowDetails==true" class="row" style="float:left;">
                                                                <div class="col-md-6" style="font-size:11px;">
                                                                    <div class="col-md-12">Markup/Dis : <b>{{ret.markupID[ret.markupID.length-1]}}</b></div>
                                                                    <div class="col-md-12" ng-repeat="k in ret.markupID"><b ng-if="ret.markupID[ret.markupID.length-1]!=k">{{k}}</b></div>
                                                                </div>
                                                                <div class="col-md-2" style="font-size:11px;">Airline Class/Ftype :<b> {{ret.airlineClass}}/{{ret.fareType}}</b></div>
                                                                <div class="col-md-2" style="font-size:11px;">GDS :<b> {{ret.GDS}}</b></div>
                                                                <div class="col-md-2" style="font-size:11px;">Mojo Fare :<b> {{ret.mojofare}}</b></div>
                                                            </div>
                                                        </div>
                                                        <div class="flight_itemdetail" style="display:none;">
                                                            <div class="detail_header"><a>Flights Detail</a><i class="fa fa-times-circle pull-right cross_close" onclick="hideFlightDetails(this)"></i></div>
                                                            <div ng-repeat="seg in ret.flightSegments[0].segments">
                                                                <div class="airlines">
                                                                    <div class="airlines_detail">
                                                                        <div class="flight_logo"><img src="{{seg.url}}" alt="logo" /></div>
                                                                        <div class="air_class">
                                                                            <p><b>{{seg.airline.name}}, {{seg.airline.code}}-{{seg.flightNo}}</b>({{seg.cabinType}})</p>
                                                                            <span>{{seg.equipType}}</span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="airlines_faci "></div>
                                                                </div>
                                                                <div class="airlines_itenery">
                                                                    <div class="airline_iteone">
                                                                        <p>{{seg.org.cityName}} ({{seg.org.airportCode}})</p>
                                                                        <b>{{seg.depTime}}</b>
                                                                        <span>{{seg.depDate}}</span>
                                                                        <dfn>{{seg.fTerminal}}</dfn>
                                                                    </div>
                                                                    <div class="airline_iteone" style="padding-right:15px;">
                                                                        <div class="stop_timer">
                                                                            <p><i class="fa fa-clock-o"></i>{{ReturnInt(seg.eft/60)}}h {{seg.eft%60}}m</p>
                                                                        </div>
                                                                        <div class="border_lin pr"><span></span><i class="fa fa-plane plan_in"></i></div>
                                                                        <div class="non_stop">Non Stop</div>
                                                                    </div>
                                                                    <div class="airline_itround">
                                                                        <p>{{seg.dest.cityName}} ({{seg.dest.airportCode}})</p>
                                                                        <b>{{seg.arrTime}}</b>
                                                                        <span>{{seg.arrDate}}</span>
                                                                        <dfn>{{seg.tTerminal}}</dfn>
                                                                    </div>
                                                                    <div class="layover_div">
                                                                        <span ng-if="seg.layOverTime!=''">Layover Time: {{seg.layOverTime}}</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="check_bag">
                                                                <span class="float-left">Checkin Baggage: <i class="fa fa-suitcase"></i> 15kgs</span>
                                                                <span class="float-right"><i class="fa fa-cutlery"></i>Paid Meal</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                            else
                            {
                                <div class="gradient_con Result-Progress">
                                    <div class="gradient_left">
                                        <div class="gradient element1"></div>
                                        <div class="gradient element3"></div>
                                        <div class="gradient element4"></div>
                                        <div class="gradient element5"></div>
                                        <div class="gardient_mar">
                                            <div class="gradient element4"></div>
                                        </div>
                                    </div>
                                    <div class="gradient_right">
                                        <div class="gradient element1">
                                        </div>
                                        <div class="gradient element2">
                                        </div>
                                        <div class="gradient element3">
                                        </div>
                                    </div>
                                </div>
                                <div class="gradient_con Result-Progress">
                                    <div class="gradient_left">
                                        <div class="gradient element1"></div>
                                        <div class="gradient element3"></div>
                                        <div class="gradient element4"></div>
                                        <div class="gradient element5"></div>
                                        <div class="gardient_mar">
                                            <div class="gradient element4"></div>
                                        </div>
                                    </div>
                                    <div class="gradient_right">
                                        <div class="gradient element1">
                                        </div>
                                        <div class="gradient element2">
                                        </div>
                                        <div class="gradient element3">
                                        </div>
                                    </div>
                                </div>
                                <div class="gradient_con Result-Progress">
                                    <div class="gradient_left">
                                        <div class="gradient element1"></div>
                                        <div class="gradient element3"></div>
                                        <div class="gradient element4"></div>
                                        <div class="gradient element5"></div>
                                        <div class="gardient_mar">
                                            <div class="gradient element4"></div>
                                        </div>
                                    </div>
                                    <div class="gradient_right">
                                        <div class="gradient element1">
                                        </div>
                                        <div class="gradient element2">
                                        </div>
                                        <div class="gradient element3">
                                        </div>
                                    </div>
                                </div>
                                <div class="gradient_con Result-Progress">
                                    <div class="gradient_left">
                                        <div class="gradient element1"></div>
                                        <div class="gradient element3"></div>
                                        <div class="gradient element4"></div>
                                        <div class="gradient element5"></div>
                                        <div class="gardient_mar">
                                            <div class="gradient element4"></div>
                                        </div>
                                    </div>
                                    <div class="gradient_right">
                                        <div class="gradient element1">
                                        </div>
                                        <div class="gradient element2">
                                        </div>
                                        <div class="gradient element3">
                                        </div>
                                    </div>
                                </div>
                                <div class="gradient_con Result-Progress">
                                    <div class="gradient_left">
                                        <div class="gradient element1"></div>
                                        <div class="gradient element3"></div>
                                        <div class="gradient element4"></div>
                                        <div class="gradient element5"></div>
                                        <div class="gardient_mar">
                                            <div class="gradient element4"></div>
                                        </div>
                                    </div>
                                    <div class="gradient_right">
                                        <div class="gradient element1">
                                        </div>
                                        <div class="gradient element2">
                                        </div>
                                        <div class="gradient element3">
                                        </div>
                                    </div>
                                </div>
                                <div class="gradient_con Result-Progress">
                                    <div class="gradient_left">
                                        <div class="gradient element1"></div>
                                        <div class="gradient element3"></div>
                                        <div class="gradient element4"></div>
                                        <div class="gradient element5"></div>
                                        <div class="gardient_mar">
                                            <div class="gradient element4"></div>
                                        </div>
                                    </div>
                                    <div class="gradient_right">
                                        <div class="gradient element1">
                                        </div>
                                        <div class="gradient element2">
                                        </div>
                                        <div class="gradient element3">
                                        </div>
                                    </div>
                                </div>

                                <div class="Result-show" style="display:none;">
                                    <div infinite-scroll="loadMore()" infinite-scroll-distance='1'>
                                        <div class="listing_con" ng-repeat="x in result | filter:filterByStop | filter:filterByAirline | filter:filterDepTimeDur | filter:filterArrTimeDur | filter:priceRange | filter:AirlineMatrixFilter | limitTo:numberToDisplay">
                                            <div class="listing_left">
                                                <div class="mobresult_btn">
                                                    <div class="mobr_right">
                                                        <h5><i class="fa fa-rupee"></i>{{x.dPrice}}</h5>
                                                        <p>Price per person</p>
                                                    </div>
                                                    <div class="mobl_btn">
                                                        @*<a id="mobl_btn_select" onclick="ShowProPopup()" href="/flight/passenger/@Model.userSearchID/{{x.resultID}}">SELECT</a>*@
                                                        <a ng-click="setPrePaxO(x.resultID)">SELECT</a>
                                                    </div>
                                                </div>
                                                <div class="flight_time_con dashed" ng-repeat="fs in x.flightSegments">
                                                    <div class="ailines_detail">
                                                        <span class="flight_icon"><img src="{{fs.segments[0].url}}" alt="logo" /></span>
                                                        <p>{{fs.segments[0].airline.name}}</p>
                                                        <font>{{fs.segments[0].airline.code}}-{{fs.segments[0].flightNo}}</font>
                                                    </div>
                                                    <div class="destination_code">
                                                        <span>{{fs.segments[0].org.airportCode}}</span>
                                                        <div style="display:none;" class="airprt_name" ng-bind="{{fs.segments[0].org.airportName}}"></div>
                                                        <p class="mob_time"><b>{{fs.segments[0].depTime}}</b></p>
                                                    </div>
                                                    <div class="flight_time_one">
                                                        <span class="time_desti">{{fs.segments[0].depTime}} </span><p class="date_day">{{fs.segments[0].depDate}}</p>
                                                    </div>
                                                    <div class="flight_time_two">
                                                        <span class="layover_time">{{fs.TotalTime}}</span>
                                                        <span class="line_img"><img src="/images/result_line.png" alt="line" /></span>
                                                        <span class="stop" ng-if="fs.segments.length==1">Non Stop</span>
                                                        <span class="stop" ng-if="fs.segments.length>1">{{fs.segments.length-1}} Stop</span>
                                                    </div>
                                                    <div class="flight_time_third">
                                                        <span class="time_desti">{{fs.segments[fs.segments.length-1].arrTime}} </span><p class="date_day">{{fs.segments[fs.segments.length-1].arrDate}}</p>
                                                    </div>
                                                    <div class="destination_code">
                                                        <span>{{fs.segments[fs.segments.length-1].dest.airportCode}}</span>
                                                        <div style="display:none;" class="airprt_name">{{fs.segments[fs.segments.length-1].dest.airportName}}</div>
                                                        <p class="mob_time"><b>{{fs.segments[fs.segments.length-1].arrTime}}</b></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="listing_right">
                                                <h5><i class="fa fa-rupee"></i>{{x.dPrice}}</h5>
                                                <p>Price per person</p>
                                                <p>(Incl.taxes & fees)</p>
                                                @*<a id="listing_right_select" onclick="ShowProPopup()" href="/flight/passenger/@Model.userSearchID/{{x.resultID}}">SELECT</a>*@
                                                <a ng-click="setPrePaxO(x.resultID)">SELECT</a>
                                            </div>
                                            <div ng-if="flight.isShowDetails==true" class="row" style="float:left;">
                                                <div class="col-md-6" style="font-size:11px;">
                                                    <div class="col-md-12" style="font-size:11px;">Markup/Dis : <b>{{x.markupID[x.markupID.length-1]}}</b></div>
                                                    <div class="col-md-12" ng-repeat="k in x.markupID"><b ng-if="x.markupID[x.markupID.length-1]!=k">{{k}}</b></div>
                                                </div>
                                                <div class="col-md-2" style="font-size:11px;">Airline Class/Ftype :<b> {{x.airlineClass}}/{{x.fareType}}</b></div>
                                                <div class="col-md-2" style="font-size:11px;">GDS :<b> {{x.GDS}}</b></div>
                                                <div class="col-md-2" style="font-size:11px;">Mojo Fare :<b> {{x.mojofare}}</b></div>
                                            </div>
                                            <div class="result_book">
                                                <div class="resultbook_left" id="{{x.FlightId}}" onclick="showDetails(this)">
                                                    <a class="view_result">Flight Details <i class="fa fa-caret-down"></i></a>
                                                </div>
                                            </div>
                                            <div class="resul_deatil">
                                                <div class="outbond" ng-repeat="fs in x.flightSegments">
                                                    <div class="outbond_top" ng-if="fs.segName=='Depart'">
                                                        <div class="outbond_topL"><h2><img src="/images/outbond.png" alt="icon" /> DEPART</h2></div>
                                                        <div class="outbond_topR">
                                                            <span>{{fs.segments[0].org.cityName}} ({{fs.segments[0].org.airportCode}})</span> - <span>{{fs.segments[fs.segments.length-1].dest.cityName}} ({{fs.segments[fs.segments.length-1].dest.airportCode}})</span> | <span>{{fs.segments[0].depDate}} | {{fs.TotalTime}}</span>
                                                        </div>
                                                    </div>
                                                    <div class="outbond_top" ng-if="fs.segName=='Return'">
                                                        <div class="outbond_topL"><h2><img src="/images/inbond.png" alt="icon" /> RETURN</h2></div>
                                                        <div class="outbond_topR">
                                                            <span>{{fs.segments[0].org.cityName}} ({{fs.segments[0].org.airportCode}})</span> - <span>{{fs.segments[fs.segments.length-1].dest.cityName}} ({{fs.segments[fs.segments.length-1].dest.airportCode}})</span> | <span>{{fs.segments[0].depDate}} | {{fs.TotalTime}}</span>
                                                        </div>
                                                    </div>
                                                    <div class="outbond_flight" ng-repeat="seg in fs.segments">
                                                        <div class="outbond_icon">
                                                            <img src="{{seg.url}}" alt="logo" />
                                                        </div>
                                                        <div class="outbond_one">
                                                            <p>{{seg.airline.name}} | {{seg.airline.code}} {{seg.flightNo}}</p>
                                                            <span ng-if="seg.airline.code!=seg.operatedBy.code">Operated By {{seg.operatedBy.name}}</span>
                                                        </div>
                                                        <div class="outbond_two">
                                                            <p><b>{{seg.org.cityName}} ({{seg.org.airportCode}})</b></p>
                                                            <span>{{seg.depTime}} | {{seg.depDate}}</span>
                                                        </div>
                                                        <div class="outbond_third">
                                                            <p><b>{{seg.dest.cityName}} ({{seg.dest.airportCode}})</b></p>
                                                            <span>{{seg.arrTime}} | {{seg.arrDate}}</span>
                                                        </div>
                                                        <div class="outbond_four">
                                                            <span class="outbond_eco">{{seg.cabinType}}</span>
                                                            <span class="eco_time" ng-if="seg.eft>0">{{ReturnInt(seg.eft/60)}}h {{seg.eft%60}}m</span>
                                                            <span class="eco_time" ng-if="seg.eft==0">Non Stop</span>
                                                        </div>
                                                        <div class="layover_con" ng-if="seg.layOverTime!=''">
                                                            <span></span>
                                                            <p>Layover Time: {{seg.layOverTime}}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        }
                        else
                        {
                            <div class="width100">
                                <div class="">
                                    <div class="gradient_slider Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="gradient_slider Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="gradient_slider Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="gradient_slider Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="gradient_slider Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="gradient_slider Result-Progress">
                                        <div class="gradient70 ">
                                            <div class="gradient element2"></div>
                                            <div class="gradient element4"></div>
                                            <div class="gradient element4"></div>
                                        </div>
                                        <div class="gradient30 margin_left8"><div class="gradient element2"></div></div>
                                    </div>
                                    <div class="Result-show" style="display:none;">
                                        <div infinite-scroll="loadMore()" infinite-scroll-distance='1'>
                                            <div class="listing_con" ng-repeat="x in result | filter:filterByStop | filter:filterByAirline | filter:filterDepTimeDur | filter:filterArrTimeDur | filter:priceRange | filter:AirlineMatrixFilter | limitTo:numberToDisplay">
                                                <div class="listing_left">
                                                    <div class="mobresult_btn">
                                                        <div class="mobr_right">
                                                            <h5><i class="fa fa-rupee"></i>{{x.dPrice}}</h5>
                                                            <p>Price per person</p>
                                                        </div>
                                                        <div class="mobl_btn">
                                                            @*<a id="mobl_btn_select_relt" onclick="ShowProPopup()" href="/flight/passenger/@Model.userSearchID/{{x.resultID}}">SELECT</a>*@
                                                            <a ng-click="setPrePaxO(x.resultID)">SELECT</a>
                                                        </div>
                                                    </div>
                                                    <div class="flight_time_con dashed" ng-repeat="fs in x.flightSegments">
                                                        <div class="ailines_detail">
                                                            <span class="flight_icon"><img src="{{fs.segments[0].url}}" alt="logo" /></span>
                                                            <p>{{fs.segments[0].airline.name}}</p>
                                                            <font>{{fs.segments[0].airline.code}}-{{fs.segments[0].flightNo}}</font>
                                                        </div>
                                                        <div class="destination_code">
                                                            <span>{{fs.segments[0].org.airportCode}}</span>
                                                            <div style="display:none;" class="airprt_name" ng-bind="{{fs.segments[0].org.airportName}}"></div>
                                                            <p class="mob_time"><b>{{fs.segments[0].depTime}}</b></p>
                                                        </div>
                                                        <div class="flight_time_one">
                                                            <span class="time_desti">{{fs.segments[0].depTime}} </span><p class="date_day">{{fs.segments[0].depDate}}</p>
                                                        </div>
                                                        <div class="flight_time_two">
                                                            <span class="layover_time">{{fs.TotalTime}}</span>
                                                            <span class="line_img"><img src="/images/result_line.png" alt="line" /></span>
                                                            <span class="stop" ng-if="fs.segments.length==1">Non Stop</span>
                                                            <span class="stop" ng-if="fs.segments.length>1">{{fs.segments.length-1}} Stop</span>
                                                        </div>
                                                        <div class="flight_time_third">
                                                            <span class="time_desti">{{fs.segments[fs.segments.length-1].arrTime}} </span><p class="date_day">{{fs.segments[fs.segments.length-1].arrDate}}</p>
                                                        </div>
                                                        <div class="destination_code">
                                                            <span>{{fs.segments[fs.segments.length-1].dest.airportCode}}</span>
                                                            <div style="display:none;" class="airprt_name">{{fs.segments[fs.segments.length-1].dest.airportName}}</div>
                                                            <p class="mob_time"><b>{{fs.segments[fs.segments.length-1].arrTime}}</b></p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="listing_right">
                                                    <h5><i class="fa fa-rupee"></i>{{x.dPrice}}</h5>
                                                    <p>Price per person</p>
                                                    <p>(Incl.taxes & fees)</p>

                                                    @*<a id="listing_right_dPrice" onclick="ShowProPopup()" href="/flight/passenger/@Model.userSearchID/{{x.resultID}}">SELECT</a>*@
                                                    <a ng-click="setPrePaxO(x.resultID)">SELECT</a>
                                                </div>
                                                <div ng-if="flight.isShowDetails==true" class="row" style="float:left;">
                                                    <div class="col-md-6" style="font-size:11px;">
                                                        <div class="col-md-12" style="font-size:11px;">Markup/Dis : <b>{{x.markupID[x.markupID.length-1]}}</b></div>
                                                        <div class="col-md-12" ng-repeat="k in x.markupID"><b ng-if="x.markupID[x.markupID.length-1]!=k">{{k}}</b></div>
                                                    </div>
                                                    <div class="col-md-2" style="font-size:11px;">Airline Class/Ftype :<b> {{x.airlineClass}}/{{x.fareType}}</b></div>
                                                    <div class="col-md-2" style="font-size:11px;">GDS :<b> {{x.GDS}}</b></div>
                                                    <div class="col-md-2" style="font-size:11px;">Mojo Fare :<b> {{x.mojofare}}</b></div>
                                                </div>
                                                <div class="result_book">
                                                    <div class="resultbook_left" id="{{x.FlightId}}" onclick="showDetails(this)">
                                                        <a class="view_result">Flight Details <i class="fa fa-caret-down"></i></a>
                                                    </div>

                                                    @*<div class="resultbook_right">
                                                            <a><i class="fa-solid fa-circle-info"></i>  Available Seat {{x.SeatAvailable}}</a>
                                                        </div>*@

                                                </div>
                                                <div class="resul_deatil">
                                                    <div class="outbond" ng-repeat="fs in x.flightSegments">
                                                        <div class="outbond_top" ng-if="fs.segName=='Depart'">
                                                            <div class="outbond_topL"><h2><img src="/images/outbond.png" alt="icon" /> DEPART</h2></div>
                                                            <div class="outbond_topR">
                                                                <span>{{fs.segments[0].org.cityName}} ({{fs.segments[0].org.airportCode}})</span> - <span>{{fs.segments[fs.segments.length-1].dest.cityName}} ({{fs.segments[fs.segments.length-1].dest.airportCode}})</span> | <span>{{fs.segments[0].depDate}} | {{fs.TotalTime}}</span>
                                                            </div>
                                                        </div>
                                                        <div class="outbond_top" ng-if="fs.segName=='Return'">
                                                            <div class="outbond_topL"><h2><img src="/images/inbond.png" alt="icon" /> RETURN</h2></div>
                                                            <div class="outbond_topR">
                                                                <span>{{fs.segments[0].org.cityName}} ({{fs.segments[0].org.airportCode}})</span> - <span>{{fs.segments[fs.segments.length-1].dest.cityName}} ({{fs.segments[fs.segments.length-1].dest.airportCode}})</span> | <span>{{fs.segments[0].depDate}} | {{fs.TotalTime}}</span>
                                                            </div>
                                                        </div>
                                                        <div class="outbond_flight" ng-repeat="seg in fs.segments">
                                                            <div class="outbond_icon">
                                                                <img src="{{seg.url}}" alt="logo" />
                                                            </div>
                                                            <div class="outbond_one">
                                                                <p>{{seg.airline.name}} | {{seg.airline.code}} {{seg.flightNo}}</p>
                                                                <span ng-if="seg.airline.code!=seg.operatedBy.code">Operated By {{seg.operatedBy.name}}</span>
                                                            </div>
                                                            <div class="outbond_two">
                                                                <p><b>{{seg.org.cityName}} ({{seg.org.airportCode}})</b></p>
                                                                <span>{{seg.depTime}} | {{seg.depDate}}</span>
                                                            </div>
                                                            <div class="outbond_third">
                                                                <p><b>{{seg.dest.cityName}} ({{seg.dest.airportCode}})</b></p>
                                                                <span>{{seg.arrTime}} | {{seg.arrDate}}</span>
                                                            </div>
                                                            <div class="outbond_four">
                                                                <span class="outbond_eco">{{seg.cabinType}}</span>
                                                                <span class="eco_time" ng-if="seg.eft>0">{{ReturnInt(seg.eft/60)}}h {{seg.eft%60}}m</span>
                                                                <span class="eco_time" ng-if="seg.eft==0">Non Stop</span>
                                                            </div>
                                                            <div class="layover_con" ng-if="seg.layOverTime!=''">
                                                                <span></span>
                                                                <p>Layover Time: {{seg.layOverTime}}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }

                    </div>
                </div>
            </div>
        </div>

    </main>

    @if (Model.tripType == TripType.RoundTrip && Model.travelType == TravelType.Domestic)
    {
        <section class="result_footer Result-show " style="display:none;">
            <div class="container bg_white no_padding pr">
                <div class="co-md-4 col-sm-4 col-xs-12 bg_gray">
                    <div class="foter_airlies">
                        <div class="footer_airlo">
                            <img src="/images/flight_small/{{outBound.flightSegments[0].segments[0].airline.code}}.gif" alt="logo" />

                        </div>
                        <div class="footer_airdetail">
                            <div class="airfooter_mid">
                                <p>{{outBound.flightSegments[0].segments[0].depTime}}</p>
                                <dfn>{{outBound.flightSegments[0].segments[0].airline.name}}</dfn>
                            </div>
                            <div class="airfooter_mid2">
                                <span></span>
                            </div>
                            <div class="airfooter_mid">
                                <p>{{outBound.flightSegments[0].segments[outBound.flightSegments[0].segments.length-1].arrTime}}</p>
                            </div>
                        </div>
                        <div class="footer_airdetail2" style="border:none;">
                            <p>{{outBound.flightSegments[0].TotalTime}}</p>
                            <dfn ng-if="outBound.flightSegments[0].segments.length==1">Non Stop</dfn>
                            <dfn ng-if="outBound.flightSegments[0].segments.length>1">{{outBound.flightSegments[0].segments.length-1}} Stop</dfn>
                        </div>
                    </div>
                </div>
                <div class="co-md-4 col-sm-4 col-xs-12 bg_gray" style="border-right: 1px dashed #ccc;">
                    <div class="foter_airlies">
                        <div class="footer_airlo">
                            <img src="/images/flight_small/{{inBound.flightSegments[0].segments[0].airline.code}}.gif" alt="logo" />
                        </div>
                        <div class="footer_airdetail">
                            <div class="airfooter_mid">
                                <p>{{inBound.flightSegments[0].segments[0].depTime}}</p>
                                <dfn>{{inBound.flightSegments[0].segments[0].airline.name}}</dfn>
                            </div>
                            <div class="airfooter_mid2">
                                <span></span>
                            </div>
                            <div class="airfooter_mid">
                                <p>{{inBound.flightSegments[0].segments[inBound.flightSegments[0].segments.length-1].arrTime}}</p>
                            </div>
                        </div>
                        <div class="footer_airdetail2" style="border:none;">
                            <p>{{inBound.flightSegments[0].TotalTime}}</p>
                            <dfn ng-if="inBound.flightSegments[0].segments.length==1">Non Stop</dfn>
                            <dfn ng-if="inBound.flightSegments[0].segments.length>1">{{inBound.flightSegments[0].segments.length-1}} Stop</dfn>
                        </div>
                    </div>
                </div>
                <div class="co-md-4 col-sm-4 col-xs-12 bg_gray ">
                    <div class="book_footer">
                        <div class="fare_divround">
                            <p>Total Fare</p>
                            <span><i class="fa fa-rupee"></i> &nbsp;{{ReturnIntWithComma(outBound.price+inBound.price)}}</span>
                            @*<span><i class="fa fa-rupee"></i>&nbsp;{{ReturnIntWithComma(outBound.dPrice+inBound.dPrice)}}</span>*@
                            <div class="Fare_detail">
                                <table>
                                    <tr><td style="font-size:13px;" colspan="3"><b>Fare Summary</b></td></tr>
                                    <tr>
                                        <th>Fare Summary</th>
                                        <th>Base Fare</th>
                                        <th>Fee & Taxes</th>
                                    </tr>
                                    <tr><td>Adult x 1</td><td><i class="fa fa-rupee"></i>3,542</td><td>1,234</td></tr>
                                    <tr><td colspan="2"><b>Total :</b></td><td><b>1,234</b></td></tr>
                                    <tr><td colspan="2"><b>Round Trip Discount (-)</b></td><td><i class="fa fa-rupee"></i>1,234</td></tr>
                                    <tr><td colspan="2"><b>You Pay</b></td><td><i class="fa fa-rupee"></i>1,234</td></tr>
                                    <tr style="background:#fff;"><td colspan="3" style="font-size:10px; color:#666;">Note: Total fare displayed above has been rounded off and may show a slight difference from actual fare.</td></tr>
                                </table>
                            </div>
                        </div>
                        <div class="fare_book">
                            @*<a id="btnfare" onclick="ShowProPopup()" href="/flight/passenger/@Model.userSearchID/{{outBound.resultID}}/{{inBound.resultID}}">Book Now</a>*@
                            <a ng-click="setPrePaxR(outBound.resultID,inBound.resultID)">Book Now</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    }
</div>

<div id="ResultProgressPopup" class="ResultProgressPopup" style="display:none;">
    <div class="ResultProgressProgressBar">
        <div class="ResultProgress-logo"><img src="/images/732.gif" /></div>
    </div>
</div>
<div style="display:none;">
    <form id="formPrePax" action="/flight/PrePax/" method="post">
        <input type="hidden" name="sMedia" value="@Model.sourceMedia" />
        <input type="hidden" name="sID" value="@Model.userSearchID" />
        <input type="hidden" name="oID" id="oID" value="" />
        <input type="hidden" name="iID" id="iID" value="" />
    </form>
</div>
<div id="divSessionOut" class="SessionTimeOut">
    <div class="sessionbox">
        <div class="row">
            <div class="col-md-12">
                <div class="col-md-3"></div>
                <div class="col-md-6 session-exp no_padding">
                    <h2 class="session-head"> Session expired</h2>
                    <div class="session_content">
                        <h3 class="text-center t-color2"><i class="fa fa-clock-o"></i>Your Session has expired</h3><br />
                        <p class="text-center session-color">
                            Your preferred search session has expired. We regret the inconvenience caused
                        </p><br />
                        <div class="col-md-6  col-xs-6"><p class="session-2"><a href="/" class="search-button-01 se-05">Go to Home</a></p></div>
                        <div class="col-md-6  col-xs-6 pull-right"><p class="sessionP"><a class="search-button-02" href="@Model.deepLink">Search Again</a></p></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .MatrixActive {
        color: #f00 !important;
        background-color: #ffcaca;
    }
</style>
@section scripts {
    @Scripts.Render("~/bundles/MojoIndiaJsResult")
    <script>
        function setPrePaxR(oID, iID) {
            ShowProPopup();
            $("#oID").val(oID);
            $("#iID").val(iID);
            $('form#formPrePax').submit();
        }
    </script>
    <script>
        $(function () {
            $("#slider-range").slider({
                range: true,
                min: 0,
                max: 500,
                values: [0, 500],
                slide: function (event, ui) {
                    $("#amount").val("₹" + ui.values[0] + " - ₹" + ui.values[1]);
                }
            });
            $("#amount").val("₹" + $("#slider-range").slider("values", 0) +
                " - ₹" + $("#slider-range").slider("values", 1));
        });
    </script>
    <script>

        var app = angular.module("myApp", ['infinite-scroll']).value("THROTTLE_MILLISECONDS", 250);;
        app.controller('myCtrl', function ($scope, $http) {
            $scope.selectedStop = [];
            $scope.selectedAirline = [];
            $scope.airline = [];
            $scope.airlineM = "0";

            $scope.selectedDepTime = [];
            $scope.selectedArrTime = [];

            $scope.lower_price_bound = 0;
            $scope.upper_price_bound = 5000;
            $scope.lower_price_slider = 0;
            $scope.upper_price_slider = 5000;
            $scope.numberToDisplay = 10;

            $scope.isNonStop = 0;
            $scope.isOneStop = 0;
            $scope.isTwoStop = 0;
            $scope.matrixActive = '00';

            $http.get("/flight/getResult/@(Model.userSearchID)")
            .then(function (response) {

                if (response.data.redirectURl != null && response.data.redirectURl != "") {
                    window.location.replace(response.data.redirectURl);
                }
                ResultSuccess();
                $scope.flight = response.data;
                $scope.outBound = $scope.flight.result[0];
                if ($scope.flight.resultReturn != null) {
                    $scope.inBound = $scope.flight.resultReturn[0];
                }
                $scope.result = $scope.flight.result;

                $scope.lower_price_slider = Math.floor($scope.flight.minPrice);
                $scope.lower_price_bound = Math.floor($scope.flight.minPrice);
                $scope.upper_price_slider = Math.ceil($scope.flight.maxPrice);
                $scope.upper_price_bound = Math.ceil($scope.flight.maxPrice);

                for (var i = 0; i < $scope.flight.stop.length; i++) {
                    if ($scope.isNonStop == 0 && $scope.flight.stop[i].stop == 1) {
                        $scope.isNonStop = 1;
                    }
                    else if ($scope.isOneStop == 0 && $scope.flight.stop[i].stop == 2) {
                        $scope.isOneStop = 1;
                    }
                    else if ($scope.isTwoStop == 0 && $scope.flight.stop[i].stop == 3) {
                        $scope.isTwoStop = 1;
                    }
                }
                $scope.DepChange = function (rIndex) {
                    angular.forEach($scope.flight.result, function (value, index) {
                        if (value.resultID == rIndex) {
                            $scope.outBound = value;
                        }
                    });

                    $(".allDepColor").removeClass("flight_itemDepColor")
                    $("#div" + rIndex).addClass("flight_itemDepColor")
                    $("#" + rIndex).prop("checked", true);
                }
                $scope.RetChange = function (rIndex) {
                    angular.forEach($scope.flight.resultReturn, function (value, index) {
                        if (value.resultID == rIndex) {
                            $scope.inBound = value;
                        }
                    });
                    $(".allArrColor").removeClass("flight_itemArrColor")
                    $("#div" + rIndex).addClass("flight_itemArrColor")
                    $("#" + rIndex).prop("checked", true);
                }

                $("#slider-range").slider({
                    range: true,
                    min: $scope.lower_price_slider,
                    max: $scope.upper_price_slider,
                    values: [$scope.lower_price_slider, $scope.upper_price_slider],
                    slide: function (event, ui) {
                        $("#amount").val("₹" + ui.values[0] + " - ₹" + ui.values[1]);

                        var scope = angular.element(document.getElementById('flightmozoData')).scope();
                        scope.$apply(function () {
                            scope.lower_price_bound = ui.values[0];
                            scope.upper_price_bound = ui.values[1];
                        });
                    }
                });
                $("#amount").val("₹" + $("#slider-range").slider("values", 0) +
                  " - ₹" + $("#slider-range").slider("values", 1));


            }).finally(function () {
                /* called no matter success or failure*/
                $(".airprt_name").html('');
                $(".Result-show").show();
                $(".Result-Progress").hide();
            });

            $scope.filterByStop = function (flights) {
                return $scope.selectedStop[flights.stop] || noFilter($scope.selectedStop);
            };
            $scope.filterByAirline = function (flights) {
                return $scope.selectedAirline[flights.airlineCode] || noFilter($scope.selectedAirline);
            };

            $scope.MAirline = function (airline) {
                $scope.clearFilter();
                $scope.airlineM = airline;
                $scope.matrixActive = airline;
            }

            $scope.AirlineMatrixFilter = function (result) {
                if ($scope.airlineM != "0") {
                    if (result.airlineCode == $scope.airlineM) {
                        return result;
                    }
                }
                else {
                    return result;
                }
            }

            $scope.filterDepTimeT = function (dep) {
                if ($scope.selectedDepTime.indexOf(dep) == -1) {
                    $scope.selectedDepTime.push(dep);
                    if (dep == 1)
                        $("#dep" + dep + "Logo").addClass("res_dep_mornDaynamic");
                    else if (dep == 2)
                        $("#dep" + dep + "Logo").addClass("res_dep_afternDaynamic");
                    else if (dep == 3)
                        $("#dep" + dep + "Logo").addClass("res_dep_eveningDaynamic");
                    else if (dep == 4)
                        $("#dep" + dep + "Logo").addClass("res_dep_nightDaynamic");
                }
                else {
                    $scope.selectedDepTime.splice($scope.selectedDepTime.indexOf(dep), 1);
                    if (dep == 1)
                        $("#dep" + dep + "Logo").removeClass("res_dep_mornDaynamic");
                    else if (dep == 2)
                        $("#dep" + dep + "Logo").removeClass("res_dep_afternDaynamic");
                    else if (dep == 3)
                        $("#dep" + dep + "Logo").removeClass("res_dep_eveningDaynamic");
                    else if (dep == 4)
                        $("#dep" + dep + "Logo").removeClass("res_dep_nightDaynamic");
                }
            };
            $scope.filterDepTimeDur = function (flights) {
                if ($scope.selectedDepTime.length == 0) {
                    return flights;
                }
                else {
                    if ($scope.selectedDepTime.indexOf(flights.depTimeDur) > -1) {
                        return flights;
                    }
                }

            };
            $scope.filterArrTimeT = function (arr) {
                if ($scope.selectedArrTime.indexOf(arr) == -1) {
                    $scope.selectedArrTime.push(arr);

                    if (arr == 1)
                        $("#arr" + arr + "Logo").addClass("res_dep_mornDaynamic");
                    else if (arr == 2)
                        $("#arr" + arr + "Logo").addClass("res_dep_afternDaynamic");
                    else if (arr == 3)
                        $("#arr" + arr + "Logo").addClass("res_dep_eveningDaynamic");
                    else if (arr == 4)
                        $("#arr" + arr + "Logo").addClass("res_dep_nightDaynamic");
                }
                else {
                    $scope.selectedArrTime.splice($scope.selectedArrTime.indexOf(arr), 1);
                    if (arr == 1)
                        $("#arr" + arr + "Logo").removeClass("res_dep_mornDaynamic");
                    else if (arr == 2)
                        $("#arr" + arr + "Logo").removeClass("res_dep_afternDaynamic");
                    else if (arr == 3)
                        $("#arr" + arr + "Logo").removeClass("res_dep_eveningDaynamic");
                    else if (arr == 4)
                        $("#arr" + arr + "Logo").removeClass("res_dep_nightDaynamic");
                }
            };
            $scope.filterArrTimeDur = function (flights) {
                if ($scope.selectedArrTime.length == 0) {
                    return flights;
                }
                else {
                    if ($scope.selectedArrTime.indexOf(flights.arrTimeDur) > -1) {
                        return flights;
                    }
                }
            };


            function noFilter(filterObj) {
                for (var key in filterObj) {
                    if (filterObj[key]) {
                        return false;
                    }
                }
                return true;
            }
            $scope.itemPerPageDiv = true;
            $scope.statusChecked1 = function (a, b, listSize) {
                if (listSize > 10) {
                    $scope.itemPerPageDiv = true;
                }
                else {
                    $scope.itemPerPageDiv = false;
                }
            }
            $scope.clearFilter = function () {
                $scope.selectedStop = [];
                $scope.selectedAirline = [];
                $scope.airlineM = "0";
                $scope.matrixActive = '00';

                $scope.selectedDepTime = [];
                $scope.selectedArrTime = [];

                $scope.SelectedGds = [];
                $scope.SelectedFareType = [];

                $scope.lower_price_bound = $scope.lower_price_slider;
                $scope.upper_price_bound = $scope.upper_price_slider;
                var $slider = $("#slider-range");
                $slider.slider("values", 0, $scope.lower_price_slider);
                $slider.slider("values", 1, $scope.upper_price_slider);
                $("#amount").val("₹" + $("#slider-range").slider("values", 0) + " - ₹" + $("#slider-range").slider("values", 1));

                $("#dep1Logo").removeClass("res_dep_mornDaynamic");
                $("#dep2Logo").removeClass("res_dep_afternDaynamic");
                $("#dep3Logo").removeClass("res_dep_eveningDaynamic");
                $("#dep4Logo").removeClass("res_dep_nightDaynamic");

                $("#arr1Logo").removeClass("res_dep_mornDaynamic");
                $("#arr2Logo").removeClass("res_dep_afternDaynamic");
                $("#arr3Logo").removeClass("res_dep_eveningDaynamic");
                $("#arr4Logo").removeClass("res_dep_nightDaynamic");
            }


            $scope.priceRange = function (result) {
                return (parseInt(result.price) >= parseInt($scope.lower_price_bound) && parseInt(result.price) <= parseInt($scope.upper_price_bound));
            };

            $scope.clearMatrixFilter = function () {
                $scope.airlineM = "0";
                $scope.matrixActive = '00';
            }

            $scope.loadMore = function () {
                if ($scope.numberToDisplay + 1 < 1000) {
                    $scope.numberToDisplay += 1;
                } else {
                    $scope.numberToDisplay = 1000;
                }
            };
            $scope.ReturnInt = function (n) {
                return parseInt(n);
            }
            $scope.ReturnIntWithComma = function (n) {
                var x = parseInt(n).toString();
                var pattern = /(-?\d+)(\d{3})/;
                while (pattern.test(x))
                    x = x.replace(pattern, "$1,$2");
                return x;
                return parseInt(n);

            }
            $scope.setPrePaxO = function (oID) {
                ShowProPopup();
                $("#oID").val(oID);
                $("#iID").val('');
                $('form#formPrePax').submit();
            }

            $scope.setPrePaxR = function (oID, iID) {
                ShowProPopup();
                $("#oID").val(oID);
                $("#iID").val(iID);
                $('form#formPrePax').submit();
            }
        });
    </script>
    <script>
        function showFilter() {
            $("#mainFilter").show();
            $("#filterTop2").show();
            $("#filterTop1").hide();
        }
        function hideFilter() {
            $("#mainFilter").hide();
            $("#filterTop2").hide();
            $("#filterTop1").show();
        }
        function showFlightDetails(ctr) {
            $(ctr).parents(".flight_tulip").find(".flight_itemdetail").slideToggle();
            flight_detail();
        }
        function hideFlightDetails(ctr) {
            $(ctr).parents(".flight_itemdetail").slideToggle();
        }
        function showFlightDetailsOneWay(ctr) {
            $(ctr).parents(".oneway_bottom").find(".oneway_drop").slideToggle();
        }
        function hideFlightDetailsOneWay(ctr) {
            $(ctr).parents(".oneway_drop").slideToggle();
        }
        function showFlightDetailsInt(ctr) {
            $(ctr).parents(".round_main").find(".oneway_drop").slideToggle();
        }
        function hideFlightDetailsInt(ctr) {
            $(ctr).parents(".oneway_drop").slideToggle();
        }

        function showDetails(ctr) {
            if ($(ctr).parents(".listing_con").find(".resul_deatil").css('display') == 'none') {
                $(ctr).find(".view_result").html("Hide Details <i class=\"fa fa-caret-up\"></i>");
            }
            if ($(ctr).parents(".listing_con").find(".resul_deatil").css('display') == 'block') {
                $(ctr).find(".view_result").html("Flight Details <i class=\"fa fa-caret-down\"></i>");
            }
            $(ctr).parents(".listing_con").find(".resul_deatil").slideToggle();
            flight_detail();
        }
        function ShowProPopup() {
            $('#ResultProgressPopup').show();
            Select_detail();
			$('#ResultProgressPopup').hide();
        }
    </script>
    <script>
        $(document).ready(function () {
		
		$('#ResultProgressPopup').hide();
		
            $(".modify_click,.button").click(function () {
                $(".modify_search").slideDown("slow");
            });
            $(".modify_close").click(function () {
                $(".modify_search").slideUp("slow");
            });

            $(".showFilterOnClick").click(function () {
                $(".showFilterData").toggle("slow");
            });
            $(".filter_click").click(function () {
                $(".result_left").slideToggle("slow");
            });
            $(".modify_click").click(function () {
                $(".modi_overlay").slideToggle("slow");
            });
            $(".modify_close").click(function () {
                $(".modi_overlay").hide("slow");
            });
            FlightLoad();
        });

    </script>
    <script type="text/javascript">
        var iL = 1;
        $(document).ready(function () {
$('#ResultProgressPopup').hide();
            $('#mlogoA1').attr('src', 'https://www.flightsmojo.com/images/AirlineLogo/' + GetRandomAirlineCode1() + '.gif');
            $('#mlogoB1').attr('src', 'https://www.flightsmojo.com/images/AirlineLogo/' + GetRandomAirlineCode2() + '.gif');
            $('#mlogoC1').attr('src', 'https://www.flightsmojo.com/images/AirlineLogo/' + GetRandomAirlineCode3() + '.gif');
            $('#mlogoA1').animate({
                right: '+=100%',
            }, 1000, function () {
                $('#mlogoA1').css({ right: -100 });
            });
            $('#mlogoB1').animate({
                right: '+=100%',
            }, 1500, function () {
                $('#mlogoB1').css({ right: -100 });
            });
            $('#mlogoC1').animate({
                right: '+=100%',
            }, 2000, function () {
                $('#mlogoC1').css({ right: -100 });
            });


        });

        setInterval(function () {
            iL += 1;

            $('.logoanimation').html('<img src="#" id="mlogoA' + iL + '"  /><img src="#" id="mlogoB' + iL + '"   /><img src="#" id="mlogoC' + iL + '"   />');
            $('#mlogoA' + iL).attr('src', 'https://www.flightsmojo.com/images/AirlineLogo/' + GetRandomAirlineCode1() + '.gif');
            $('#mlogoB' + iL).attr('src', 'https://www.flightsmojo.com/images/AirlineLogo/' + GetRandomAirlineCode2() + '.gif');
            $('#mlogoC' + iL).attr('src', 'https://www.flightsmojo.com/images/AirlineLogo/' + GetRandomAirlineCode3() + '.gif');
            $('#mlogoA' + iL).animate({
                right: '+=100%',
            }, 1000, function () {
                $('#mlogoA' + iL).css({ right: -100 });
            });
            $('#mlogoB' + iL).animate({
                right: '+=100%',
            }, 1500, function () {
                $('#mlogoB' + iL).css({ right: -100 });
            });
            $('#mlogoC' + iL).animate({
                right: '+=100%',
            }, 2000, function () {
                $('#mlogoC' + iL).css({ right: -100 });
            });
        }, 2000);

        function GetRandomAirlineCode() {
            var rndNo = Math.floor((Math.random() * 10) + 1);
            var airCode = "AI";

            switch (rndNo) {
                case 1: airCode = "G8"; break;
                case 2: airCode = "SG"; break;
                case 3: airCode = "6E"; break;
                case 4: airCode = "IX"; break;
                case 5: airCode = "UK"; break;
                case 6: airCode = "I5"; break;
                case 7: airCode = "6E"; break;
                case 8: airCode = "EY"; break;
                case 9: airCode = "EK"; break;
                case 10: airCode = "UK"; break;
                case 11: airCode = "VS"; break;
            }



            return airCode;
        }
        function GetRandomAirlineCode1() {
            var rndNo = Math.floor((Math.random() * (4 - 1 + 1)) + 1);
            var airCode = "AI";

            switch (rndNo) {
                case 1: airCode = "G8"; break;
                case 2: airCode = "SG"; break;
                case 3: airCode = "6E"; break;
                case 4: airCode = "IX"; break;
                case 5: airCode = "UK"; break;
                case 6: airCode = "I5"; break;
                case 7: airCode = "6E"; break;
                case 8: airCode = "EY"; break;
                case 9: airCode = "EK"; break;
                case 10: airCode = "UK"; break;
                case 11: airCode = "VS"; break;
            }



            return airCode;
        }
        function GetRandomAirlineCode2() {
            var rndNo = Math.floor((Math.random() * (7 - 5 + 1)) + 5);
            var airCode = "AI";

            switch (rndNo) {
                case 1: airCode = "G8"; break;
                case 2: airCode = "SG"; break;
                case 3: airCode = "6E"; break;
                case 4: airCode = "IX"; break;
                case 5: airCode = "UK"; break;
                case 6: airCode = "I5"; break;
                case 7: airCode = "6E"; break;
                case 8: airCode = "EY"; break;
                case 9: airCode = "EK"; break;
                case 10: airCode = "UK"; break;
                case 11: airCode = "VS"; break;
            }



            return airCode;
        }
        function GetRandomAirlineCode3() {
            var rndNo = Math.floor((Math.random() * (10 - 8 + 1)) + 8);
            var airCode = "AI";

            switch (rndNo) {
                case 1: airCode = "G8"; break;
                case 2: airCode = "SG"; break;
                case 3: airCode = "6E"; break;
                case 4: airCode = "IX"; break;
                case 5: airCode = "UK"; break;
                case 6: airCode = "I5"; break;
                case 7: airCode = "6E"; break;
                case 8: airCode = "EY"; break;
                case 9: airCode = "EK"; break;
                case 10: airCode = "UK"; break;
                case 11: airCode = "VS"; break;
            }



            return airCode;
        }
        function GetRandomAirlineLogoCode(rndNo) {
            var airCode = "AI";
            switch (rndNo) {
                case 1: airCode = "G8"; break;
                case 2: airCode = "SG"; break;
                case 3: airCode = "6E"; break;
                case 4: airCode = "IX"; break;
                case 5: airCode = "UK"; break;
                case 6: airCode = "I5"; break;
                case 7: airCode = "6E"; break;
                case 8: airCode = "EY"; break;
                case 9: airCode = "EK"; break;
                case 10: airCode = "UK"; break;
                case 11: airCode = "VS"; break;
            }
            return airCode;
        }
        function GetRandomAirlineName(rndNo) {
            var airCode = "AI";
            switch (rndNo) {
                case 1: airCode = "Hawaiian Airlines"; break;
                case 2: airCode = "Southwest Airlines"; break;
                case 3: airCode = "Alaska Airlines"; break;
                case 4: airCode = "JetBlue"; break;
                case 5: airCode = "Frontier Airlines"; break;
                case 6: airCode = "Spirit Airlines"; break;
                case 7: airCode = "United Airlines"; break;
                case 8: airCode = "American Airlines"; break;
                case 9: airCode = "Air Canada"; break;
                case 10: airCode = "Qatar Airways"; break;
            }
            return airCode;
        }
    </script>


<script>
        function FlightLoad() {

            var adult = parseInt($("#Adult").val());
            var child = parseInt($("#Child").val());
            var infant = parseInt($("#Infant").val());
            var totpax = adult + child + infant;
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                'event': 'flight_listing',
                'link_name': 'load',
                'origin_city': $("#hfCity_from").val(),
                'destination_city': $("#hfCity_to").val(),
                'depart_date': $("#departure_date").val(),
                'return_date': $("#hfTripType").val() == "2" ? $("#return_date").val() : "",
                'type': $("#hfTripType").val() == "2" ? "RoundTrip" : "OneWay",
                'passenger_count': totpax,
                'airline_class': $("#Cabin option:selected").text()
            });
        }
</script>



    <script>
        function ResultSuccess() {

            var adult = parseInt($("#Adult").val());
            var child = parseInt($("#Child").val());
            var infant = parseInt($("#Infant").val());
            var totpax = adult + child + infant;
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                'event': 'search',
                'link_name': 'result displayed',
                'origin_city': $("#hfCity_from").val(),
                'destination_city': $("#hfCity_to").val(),
                'depart_date': $("#departure_date").val(),
                'return_date': $("#hfTripType").val() == "2" ? $("#return_date").val() : "",
                'type': $("#hfTripType").val() == "2" ? "RoundTrip" : "OneWay",
                'passenger_count': totpax,
                'airline_class': $("#Cabin option:selected").text()
            });
        }
    </script>


<script>
           function flight_detail() {
            var adult = parseInt($("#Adult").val());
            var child = parseInt($("#Child").val());
            var infant = parseInt($("#Infant").val());
            var totpax = adult + child + infant;
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                'event': 'flight_listing',
                'link_name': 'flight detail',
                'origin_city': $("#hfCity_from").val(),
                'destination_city': $("#hfCity_to").val(),
                'depart_date': $("#departure_date").val(),
                'return_date': $("#hfTripType").val() == "2" ? $("#return_date").val() : "",
                'type': $("#hfTripType").val() == "2" ? "RoundTrip" : "OneWay",
                'passenger_count': totpax,
                'airline_class': $("#Cabin option:selected").text()
            });
        }
</script>

<script>
           function Select_detail() {
            var adult = parseInt($("#Adult").val());
            var child = parseInt($("#Child").val());
            var infant = parseInt($("#Infant").val());
            var totpax = adult + child + infant;
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                'event': 'flight_listing',
                'link_name': 'select',
                'origin_city': $("#hfCity_from").val(),
                'destination_city': $("#hfCity_to").val(),
                'depart_date': $("#departure_date").val(),
                'return_date': $("#hfTripType").val() == "2" ? $("#return_date").val() : "",
                'type': $("#hfTripType").val() == "2" ? "RoundTrip" : "OneWay",
                'passenger_count': totpax,
                'airline_class': $("#Cabin option:selected").text()
            });
        }
</script>
<script>
        function Modify() {
            var adult = parseInt($("#Adult").val());
            var child = parseInt($("#Child").val());
            var infant = parseInt($("#Infant").val());
            var totpax = adult + child + infant;
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                'event': 'flight_listing',
                'link_name': 'modify',
                'origin_city': $("#hfCity_from").val(),
                'destination_city': $("#hfCity_to").val(),
                'depart_date': $("#departure_date").val(),
                'return_date': $("#hfTripType").val() == "2" ? $("#return_date").val() : "",
                'type': $("#hfTripType").val() == "2" ? "RoundTrip" : "OneWay",
                'passenger_count': totpax,
                'airline_class': $("#Cabin option:selected").text()
            });
        }
</script>

<script>
    function swapdata() {
        var fromTopCity =  $("#fromTopCity").html();
        var toTopCity = $("#toTopCity").html();
        var fromTopCityMob = $("#fromTopCityMob").html();
        var fromBottamCityMob = $("#fromBottamCityMob").html();


        var fromBottamCity = $("#fromBottamCity").html();
        var toBottamCity = $("#toBottamCity").html();
        var toTopCityMob = $("#toTopCityMob").html();
        var toBottamCityMob = $("#toBottamCityMob").html();



        fromTopCity = $("#toTopCity").html();
        toTopCity = $("#fromTopCity").html();
        fromTopCityMob = $("#toTopCityMob").html();
        fromBottamCityMob = $("#toBottamCityMob").html();


        fromBottamCity = $("#toBottamCity").html();
        toBottamCity = $("#fromBottamCity").html();

        document.getElementById("fromTopCity").innerHTML = document.getElementById("toTopCity").innerHTML;
        document.getElementById("toTopCity").innerHTML = document.getElementById("fromTopCity").innerHTML;

        document.getElementById("fromBottamCity").innerHTML = document.getElementById("toBottamCity").innerHTML;
        document.getElementById("toBottamCity").innerHTML = document.getElementById("fromBottamCity").innerHTML;



        document.getElementById("fromTopCity").innerHTML = fromTopCity;
        document.getElementById("toTopCity").innerHTML = toTopCity;

        document.getElementById("fromBottamCity").innerHTML = fromBottamCity;
        document.getElementById("toBottamCity").innerHTML = toBottamCity;


        hfCity_to  =$("#hfCity_to").val();
        hfCity_from = $("#hfCity_from").val();
        $("#hfCity_to").val(hfCity_from);
        $("#hfCity_from").val(hfCity_to);
    }

</script>
}
